#!/usr/bin/env oksh

. /etc/pragnastic/pragnastic.conf
. /etc/pragnastic/pragnastic.subr

if [[ "$1" != "all" && "$1" != "backup" && "$1" != "data" ]]; then 
    echo "usage:  `basename $0` all|backup|data" >&2
    exit 1
fi

# Mount backup
if [[ "$1" == "backup" || "$1" == "all" ]]; then
    zfs mount $backup0_dataset && echo "$backup0_dataset mounted OK"
    zfs mount $backup1_dataset && echo "$backup1_dataset mounted OK"
fi

# Mount data
if [[ "$1" == "data" || "$1" == "all" ]]; then
    zfs mount $data_dataset && echo "$data_dataset mounted OK"
    zfs mount $data_shared_dataset && echo "$data_shared_dataset mounted OK"
fi
